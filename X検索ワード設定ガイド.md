# シールトラッカー - X検索ワード設定ガイド

## 📋 現在の検索ワード設定

アプリは以下の5つのキーワードでX（Twitter）投稿を自動検索します：

### 1. ボンボンドロップシール 入荷
- **対象**: ボンボンドロップシールの入荷情報
- **取得内容**: 店舗入荷情報、再販情報、販売開始情報

### 2. サンリオ シール 販売
- **対象**: サンリオキャラクターズのシール販売情報
- **取得内容**: サンリオ公式・店舗の販売情報

### 3. たまごっち シール
- **対象**: たまごっちシール関連情報
- **取得内容**: たまごっちシールの入荷・販売情報

### 4. ディズニー ボンボンドロップ
- **対象**: ディズニーキャラクターのボンボンドロップシール
- **取得内容**: ディズニーシールの入荷・販売情報

### 5. シール 入荷情報
- **対象**: 一般的なシール入荷情報
- **取得内容**: 各種シールの入荷・在庫情報

---

## 🔍 検索の仕組み

1. **Yahoo!リアルタイム検索**を使用
   - リアルタイムでX投稿を検索
   - 最新の入荷情報を取得

2. **Google検索**（補助）
   - `site:x.com` または `site:twitter.com` で検索
   - X投稿のURLを抽出

3. **重複削除**
   - 同じURLの投稿は1つにまとめる

4. **新しい順にソート**
   - 最新の投稿を上位に表示

---

## 🎯 検索結果のフィルタリング

### 地域フィルタ
- **設定方法**: SNS画面右上の📍ボタン
- **選択肢**:
  - 全国（すべて表示）
  - 北海道
  - 東北
  - 関東
  - 中部
  - 近畿（大阪府、京都府、兵庫県など）
  - 中国
  - 四国
  - 九州・沖縄

### 全国共通情報（地域フィルタ対象外）
以下のキーワードを含む投稿は、地域に関係なく表示：
- 全店
- 全国
- 公式
- オンライン
- 通販
- ネット
- Amazon
- 楽天
- Yahoo
- メルカリ

**例**:
- 「ロフト全店で入荷」→ どの地域でも表示
- 「サンリオ公式オンラインストア」→ どの地域でも表示

---

## ⚙️ 検索ワードのカスタマイズ

検索ワードは以下のファイルで設定されています：

**ファイル**: `lib/services/realtime_sns_service.dart`

```dart
// 検索キーワード
final keywords = [
  'ボンボンドロップシール 入荷',
  'サンリオ シール 販売',
  'たまごっち シール',
  'ディズニー ボンボンドロップ',
  'シール 入荷情報',
];
```

### カスタマイズ例

#### スヌーピーシールを追加する場合:
```dart
final keywords = [
  'ボンボンドロップシール 入荷',
  'サンリオ シール 販売',
  'たまごっち シール',
  'ディズニー ボンボンドロップ',
  'シール 入荷情報',
  'スヌーピー シール 入荷',  // ← 追加
];
```

#### ポケモンカードを追加する場合:
```dart
final keywords = [
  'ボンボンドロップシール 入荷',
  'サンリオ シール 販売',
  'たまごっち シール',
  'ディズニー ボンボンドロップ',
  'シール 入荷情報',
  'ポケモンカード 入荷',  // ← 追加
];
```

---

## 🔄 更新ボタンの動作

SNS画面右上の🔄ボタンをタップすると：

1. 最新のX投稿を検索
2. 設定された地域でフィルタ
3. 重複を削除
4. 新しい順にソート
5. 取得件数を表示

---

## 📱 使用例

### 大阪でボンボンドロップシールを探す場合:

1. **地域設定**: 近畿
2. **検索結果**:
   - ✅ 「大阪のロフトで入荷」
   - ✅ 「京都のハンズで販売中」
   - ✅ 「ロフト全店で再販」（全国共通）
   - ❌ 「東京の店舗で入荷」（関東なので非表示）

---

## 🛠️ トラブルシューティング

### 検索結果が表示されない場合:

1. **更新ボタンをタップ**
   - 最新情報を再取得

2. **地域設定を確認**
   - 「全国」に設定すると全ての投稿が表示

3. **時間をおいて再試行**
   - 検索結果が増えるタイミングで再取得

---

## 📊 データソース

### X投稿の検索元:
- Yahoo!リアルタイム検索（X投稿のURLを抽出）
- 地域・店舗名などの検索ワードで拡張

### Web全体の検索:
- 「ボンボンドロップシール 抽選」で検索
- 抽選日が向こう1ヶ月以内のページのみ掲載

---

## 🎯 まとめ

- **5つのキーワード**でX投稿を自動検索
- **地域フィルタ**で近くの情報のみ表示
- **全国共通情報**は地域に関係なく表示
- **更新ボタン**で最新情報を取得
- **実際のX/Instagram/LINE**の投稿にリンク
